<!doctype html><html lang="sw"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Login</title><link rel="stylesheet" href="styles.css"></head><body>
<header class="site-header"><div class="container"><h1>Ingia</h1></div></header><main class="container"><section class="form"><form id="loginForm"><label>Email</label><input id="email" type="email" required><label>Password</label><input id="password" type="password" required><button class="btn" type="submit">Login</button></form><p class="small">Hujaji? <a class="link" href="register_choice.html">Jisajili</a></p></section></main>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="firebase/firebaseConfig.js"></script>
<script>initFirebase();const auth=firebase.auth(),db=firebase.firestore();document.getElementById('loginForm').addEventListener('submit',async function(e){e.preventDefault();const email=document.getElementById('email').value.trim(),password=document.getElementById('password').value;try{const res=await auth.signInWithEmailAndPassword(email,password);const user=res.user;const doc=await db.collection('users').doc(user.uid).get();if(doc.exists){const data=doc.data();sessionStorage.setItem('user_profile',JSON.stringify(data));sessionStorage.setItem('user_uid',user.uid);sessionStorage.setItem('user_email',user.email);alert('Umeingia!');window.location='index.html'}else{alert('User logged in but profile not found.');window.location='index.html'}}catch(err){alert('Login failed: '+err.message)}});</script></body></html>